# Use Cases - YouTube Summary App

## 1. 동영상 자막 추출 및 메타데이터 확인

### 1.1. 유스케이스 명
YouTube 동영상 자막 및 메타데이터 추출

### 1.2. 액터
사용자 (User)

### 1.3. 사전 조건
- 사용자가 웹 애플리케이션에 접속한다.
- 유효한 YouTube 동영상 URL을 가지고 있다.
- `.env.local`에 `VITE_SUPADATA_API_KEY`가 설정되어 있다.

### 1.4. 기본 흐름 (Basic Flow)
1. 사용자가 좌측 입력란에 YouTube 동영상 URL을 입력한다.
2. 사용자가 '자막추출' 버튼을 클릭한다.
3. 시스템은 즉시 화면의 모든 데이터(자막, 메타데이터, 리포트)를 초기화한다.
4. 시스템은 입력된 URL에서 동영상 ID를 추출한다.
5. 시스템은 SupaData API를 통해 동영상 자막과 메타데이터를 병렬로 요청한다.
6. 시스템은 추출된 자막 텍스트를 좌측 하단 자막 텍스트 박스에 표시하고, 자막 길이를 계산하여 보여준다.
7. 시스템은 추출된 메타데이터(썸네일, 제목, 채널, 게시일, 길이, 조회수, 좋아요, 설명)를 URL 입력란 아래에 표시한다.
8. 시스템은 추출된 자막 텍스트를 우측 상단 리포트 입력 박스에 자동으로 복사한다.
9. (선택 사항) 사용자가 '복사(JSON)' 버튼을 클릭하여 메타데이터와 자막 전체를 JSON 형식으로 클립보드에 복사한다.
10. (선택 사항) 사용자가 좌측 자막 텍스트 박스의 내용을 직접 수정한다.

### 1.5. 대체 흐름 (Alternate Flows)
- **1.5.1. 유효하지 않은 URL**: URL 입력 시 유효하지 않은 형식이라면 자막 추출 버튼 비활성화 또는 에러 메시지 표시.
- **1.5.2. API 호출 실패**: SupaData API 호출 실패 시, 사용자에게 에러 메시지를 표시한다.
- **1.5.3. 자막 없음**: 동영상에 자막이 없는 경우, '추출된 자막이 여기 표시됩니다.' 메시지를 유지하거나 '자막 없음'을 표시한다.

## 2. 요약 리포트 생성 및 확인

### 2.1. 유스케이스 명
LLM 기반 동영상 요약 리포트 생성 및 관리

### 2.2. 액터
사용자 (User)

### 2.3. 사전 조건
- 동영상 자막이 성공적으로 추출되어 우측 상단 리포트 입력 박스에 채워져 있다.
- `.env.local`에 `VITE_GEMINI_API_KEY`가 설정되어 있다.

### 2.4. 기본 흐름 (Basic Flow)
1. 사용자가 우측 리포트 패널에서 드롭다운 메뉴를 통해 요약 모드(General, SCQA, Full Report)를 선택한다 (기본값: General Summary).
2. (선택 사항) 사용자가 우측 상단 리포트 입력 박스 내용을 직접 수정하거나 'CLEAR' 버튼으로 초기화한다.
3. 사용자가 '리포트' 버튼을 클릭한다.
4. 시스템은 선택된 요약 모드와 입력된 자막을 Gemini 2.5 Flash LLM에 전달하여 리포트 생성을 요청한다.
5. 시스템은 LLM 응답을 받아 생성된 리포트 텍스트와 메타 정보(소요 시간, 토큰 사용량)를 파싱한다.
6. 시스템은 생성된 리포트를 우측 하단 리포트 박스에 마크다운 미리보기 형태로 표시한다 (기본).
7. 시스템은 리포트 하단에 요약 길이, 소요 시간, 토큰 사용량을 표시한다.
8. (선택 사항) 사용자가 'Preview'/'Text' 토글 버튼을 클릭하여 리포트 뷰를 전환한다.
9. (선택 사항) 사용자가 '복사' 버튼을 클릭하여 생성된 리포트 내용을 클립보드에 복사한다.

### 2.5. 대체 흐름 (Alternate Flows)
- **2.5.1. LLM 호출 실패**: Gemini API 호출 실패 시, 사용자에게 에러 메시지를 표시한다.
- **2.5.2. 입력 자막 없음**: 리포트 입력 박스에 자막 내용이 없는 경우, '리포트' 버튼 비활성화 또는 에러 메시지 표시.
- **2.5.3. 생성 결과 없음**: LLM이 빈 문자열을 반환하는 경우, '미리보기 없음' 메시지를 표시한다.

---
