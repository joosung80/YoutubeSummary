# Product Requirements Document (PRD) - YouTube Summary App

## 1. 개요
YouTube 동영상 URL을 기반으로 자막을 추출하고, 다양한 모드(General, SCQA, Full Report)로 요약 리포트를 생성하는 웹 애플리케이션입니다. 사용자에게 동영상 메타 정보를 제공하고, 생성된 리포트의 가독성을 높여 정보 습득을 돕는 것을 목표로 합니다.

## 2. 기능 명세

### 2.1. 동영상 자막 추출
- **YouTube URL 입력**: 사용자가 텍스트 입력란에 YouTube 동영상 URL을 입력합니다.
- **자막 추출 버튼**: '자막추출' 버튼 클릭 시, 입력된 URL로부터 동영상 자막을 추출합니다.
- **실시간 초기화**: 새로운 URL 입력 및 추출 시, 모든 관련 섹션(자막, 메타데이터, 리포트)이 즉시 초기화됩니다.
- **자막 표시**: 추출된 자막은 좌측 하단 텍스트 박스에 표시됩니다 (최대 50줄, 스크롤 가능).
- **자막 길이 표시**: 추출된 자막의 글자 수를 표시합니다 (예: "자막 길이: 12,345자").
- **JSON 형식 복사**: '복사(JSON)' 버튼 클릭 시, 동영상 URL, ID, 메타데이터, 추출된 자막, 길이 정보 등을 포함한 JSON 데이터를 클립보드에 복사합니다. (복사 완료 시 1.2초간 '복사됨' 피드백)

### 2.2. 동영상 메타데이터 표시
- **위치**: YouTube URL 입력란 바로 아래에 배치됩니다.
- **구성**:
    - **상단**: 좌측에 동영상 썸네일, 우측에 라벨(이모지 포함) 형태로 제목(🎬), 채널(📺), 게시일(📅), 길이(⏱️), 조회수(👀), 좋아요 수(👍)를 표시합니다.
    - **하단**: 전체 너비로 확장된 영역에 동영상 설명(📝)을 표시합니다.
- **스크롤**: 설명이 길 경우 최대 높이(예: 56줄)를 제한하고 스크롤이 가능하도록 합니다.
- **데이터 출처**: SupaData Video API를 통해 메타데이터를 가져옵니다.

### 2.3. 요약 리포트 생성 (LLM 기반)
- **자막 입력**: 좌측 자막 추출 완료 시, 추출된 자막 내용이 우측 상단 입력 박스에 자동으로 복사됩니다 (최대 60줄, 스크롤 가능).
- **입력 초기화**: 'CLEAR' 버튼 클릭 시, 우측 상단 입력 박스 내용을 초기화합니다.
- **요약 모드 선택**: 드롭다운 메뉴를 통해 3가지 요약 모드를 선택할 수 있습니다.
    - **General Summary (기본)**: 일반적인 요약 리포트를 생성합니다. (확장된 프롬프트 적용)
    - **SCQA Summary**: SCQA 프레임워크 기반의 요약 리포트를 생성합니다. (확장된 프롬프트 적용, 최상단 SCQA 요약 포함)
    - **Full Report**: 상세 보고서 형식의 리포트를 생성합니다. (확장된 프롬프트 적용)
- **리포트 생성 버튼**: '리포트' 버튼 클릭 시, 선택된 모드와 자막을 바탕으로 LLM(Gemini 2.5 Flash)을 사용하여 리포트를 생성합니다.
- **리포트 표시**: 생성된 리포트는 우측 하단 텍스트 박스에 표시됩니다 (최대 60줄, 스크롤 가능).
- **마크다운 렌더링**: 리포트는 기본적으로 마크다운 형식으로 렌더링되어 표시됩니다.
- **뷰 전환**: 'Preview' (기본) 및 'Text' 버튼을 통해 마크다운 렌더링 뷰와 원본 텍스트 편집 뷰를 전환할 수 있습니다.
- **리포트 메타 정보**: 요약 길이, 소요 시간(초), 토큰 사용량(입력/출력/총 토큰)을 표시합니다 (예: "📝 1,234자 · ⏱ 1.2s · 🔤 in 123 / out 45 / total 168").
- **복사 기능**: '복사' 버튼 클릭 시, 생성된 리포트 내용을 클립보드에 복사합니다 (복사 완료 시 1.2초간 '복사됨' 피드백).

## 3. UX 플로우 (업데이트)
1. 사용자가 Text Input Box에 YouTube URL을 입력합니다.
2. '자막추출' 버튼을 클릭합니다.
3. 클릭 즉시 좌우 모든 섹션(기존 자막, 메타데이터, 리포트)이 초기화됩니다.
4. SupaData API를 통해 동영상 메타데이터와 자막이 병렬로 추출됩니다.
5. URL 입력란 아래에 동영상 썸네일과 라벨 형태의 메타 정보(제목, 채널, 게시일, 길이, 조회수, 좋아요)가 표시됩니다.
6. 메타 정보 아래에 동영상 상세 설명이 스크롤 가능한 영역으로 표시됩니다.
7. 좌측 하단 텍스트 박스에 추출된 자막(최대 50줄, 스크롤)과 자막 길이가 표시됩니다.
8. '복사(JSON)' 버튼 클릭 시, JSON 형식으로 메타데이터와 자막 전체가 복사됩니다.
9. 우측 상단 입력 박스에 추출된 자막이 자동으로 복사됩니다 (최대 60줄, 스크롤).
10. 사용자는 드롭다운으로 요약 모드를 선택하고, 'CLEAR' 버튼(입력 초기화) 또는 '리포트' 버튼을 클릭합니다.
11. '리포트' 버튼 클릭 시, Gemini 2.5 Flash를 통해 선택된 모드에 맞는 리포트가 생성됩니다.
12. 생성된 리포트는 우측 하단 리포트 박스에 마크다운 미리보기로 표시됩니다 (최대 60줄, 스크롤). 'Preview'/'Text' 토글로 뷰 전환이 가능합니다.
13. 리포트 하단에 요약 길이, 소요 시간, 토큰 사용량 등의 메타 정보가 표시됩니다.
14. '복사' 버튼 클릭 시, 생성된 리포트 내용이 클립보드에 복사됩니다.

## 4. 테크 스택
- **Frontend**: React SPA (Vite + TypeScript)
- **UI Framework**: Tailwind CSS v4
- **API Client**: Axios, Fetch API
- **Markdown Renderer**: `react-markdown`, `remark-gfm`
- **LLM Integration**: Google Gemini 2.5 Flash SDK

## 5. LLM 모델
- `gemini-2.5-flash` 사용

## 6. 프롬프트 개선 현황
- **General Summary**: 체계적인 마크다운 구조 (제목, 장르, 개요, 키워드, 상세 노트), 개조식 문체, 이모지 포함.
- **SCQA Summary**: 8-슬라이드 아웃라인, 피라미드 원칙 적용, 각 슬라이드 3불릿. 최상단에 1줄 SCQA 요약 추가 (이모지+굵게, 개조식 문체).
- **Full Report**: 상세 보고서 형식 (Executive Summary, TOC, Key Insights, Detailed Analysis, Data & Evidence, Quotes, Action Items, Takeaways), 마크다운 형식.

## 7. 참조 리소스 (업데이트)
#### 7.1. YouTube 자막 추출 API (SupaData)
- 엔드포인트: `GET https://api.supadata.ai/v1/transcript`
- 파라미터: `url`, `lang` (ko), `text` (true), `mode` (auto)
- 인증: `x-api-key` 헤더 사용

#### 7.2. YouTube 비디오 메타데이터 API (SupaData)
- 엔드포인트: `GET https://api.supadata.ai/v1/youtube/video`
- 파라미터: `id` (YouTube Video ID)
- 인증: `x-api-key` 헤더 사용

---